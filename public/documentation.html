<!doctype html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>DojoDB - Documentation</title>
        <style>
            table,
            th {
                text-align: left;
            }

            pre,
            td,
            th {
                word-wrap: break-word;
            }

            body {
                font-family: sans-serif;
            }

            .EndpointTable {
                width: 100%;
                overflow-x: auto;
            }

            table {
                width: 100%;
                border-collapse: collapse;
                table-layout: fixed;
                border-spacing: 1px;
            }

            td,
            th {
                border: 1px solid #eee;
                padding: 8px;
                vertical-align: top;
                white-space: normal;
            }

            th {
                background-color: #f4f4f4;
            }

            pre {
                background-color: #f8f8f8;
                padding: 10px;
                border-radius: 5px;
                overflow-x: auto;
                white-space: pre-wrap;
            }

            @media (max-width: 768px) {
                table {
                    width: 100%;
                    display: block;
                    overflow-x: auto;
                    white-space: nowrap;
                }

                td,
                th {
                    padding: 10px;
                    text-align: left;
                }
            }

            @media (max-width: 480px) {

                td,
                th {
                    padding: 6px;
                }
            }
        </style>
    </head>

    <body>
        <section>
            <h1>DojoDB - Documentation</h1>
            <p> This web application allows users to explore information on movies with a special focus on martial arts
                films. Users can sign up, update their personal profiles, and curate a list of their favorite movies.
            </p>
        </section>
        <section>
            <div class="EndpointTable">
                <table>
                    <thead>
                        <tr>
                            <th>Request</th>
                            <th>URL</th>
                            <th>HTTP Method</th>
                            <th>Request Body Data Format</th>
                            <th>Response Body Data Format</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Return a list of all movies</td>
                            <td>/movies</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON array** of all movies. If no movies are available, returns a 500 error. <br>
                                Example:
                                <pre>
                                    [
    {
        "title": "Enter the Dragon",
        "description": "Bruce Lee stars as a martial artist recruited by a secret British agency to infiltrate a crime lord's island fortress for a deadly tournament. This classic is one of the most influential martial arts films ever.",
        "genre": {
            "name": "Action",
            "description": "High-energy films packed with intense fight scenes, fast-paced choreography, and adrenaline-pumping sequences that showcase the power and skill of martial artists in combat."
        },
        "director": {
            "name": "Robert Clouse",
            "bio": "Robert Clouse was an American film director, best known for his martial arts films, most notably Enter the Dragon.",
            "birthYear": 1928,
            "deathYear": 1997
        },
        "image": {
            "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Saxon_and_Kelly.jpg/400px-Saxon_and_Kelly.jpg",
            "imageAttribution": "Public domain, via Wikimedia Commons"
        },
        "releaseYear": 1973,
        "actors": [
            {
                "_id": "674a36ef7e337550f02dcda5",
                "name": "Bruce Lee",
                "role": "Lee"
            },
            {
                "_id": "674a36ef7e337550f02dcda6",
                "name": "John Saxon",
                "role": "Roper"
            },
            {
                "_id": "674a36ef7e337550f02dcda7",
                "name": "Jim Kelly",
                "role": "Williams"
            }
        ],
        "_id": "67488ec6f9495208cdfdecf3"
    },
    {
        "title": "Drunken Master",
        "description": "Jackie Chan stars as a young man who learns the unconventional Drunken Fist style of kung fu. The film mixes humor with martial arts in a unique blend that became a hallmark of Chan's career.",
        "genre": {
            "name": "Action",
            "description": "High-energy films packed with intense fight scenes, fast-paced choreography, and adrenaline-pumping sequences that showcase the power and skill of martial artists in combat."
        },
        "director": {
            "name": "Yuen Woo-Ping",
            "bio": "Yuen Woo-ping is a Hong Kong martial arts film director, choreographer, and producer. He is renowned for his work on action choreography in films like The Matrix and Crouching Tiger, Hidden Dragon.",
            "birthYear": 1945,
            "deathYear": null
        },
        "image": {
            "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Yueng_Siu-tien.jpg/400px-Yueng_Siu-tien.jpg",
            "imageAttribution": "Yueng Siu-tien by Yuen Siu-tien, licensed under CC BY-SA 4.0"
        },
        "releaseYear": 1978,
        "actors": [
            {
                "_id": "674a36ef7e337550f02dcda8",
                "name": "Jackie Chan",
                "role": "Wong Fei-hung"
            },
            {
                "_id": "674a36ef7e337550f02dcda9",
                "name": "Yuen Siu-tien",
                "role": "Beggar So"
            }
        ],
        "_id": "67488fd4f9495208cdfdecf4"
    }, 
    {...}
]
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Get a specific movie by title</td>
                            <td>/movies/{title}</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON object** of the specific movie. If the movie is not found, a 404 error is
                                returned. <br> Example:
                                <pre>
                                    {
    "title": "Enter the Dragon",
    "description": "Bruce Lee stars as a martial artist recruited by a secret British agency to infiltrate a crime lord's island fortress for a deadly tournament. This classic is one of the most influential martial arts films ever.",
    "genre": "Action",
    "director": "Robert Clouse",
    "image": {
        "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Saxon_and_Kelly.jpg/400px-Saxon_and_Kelly.jpg",
        "imageAttribution": "Public domain, via Wikimedia Commons"
    },
    "releaseYear": 1973,
    "actors": [
        {
            "_id": "674a36c37e337550f02dcda1",
            "name": "Bruce Lee",
            "role": "Lee"
        },
        {
            "_id": "674a36c37e337550f02dcda2",
            "name": "John Saxon",
            "role": "Roper"
        },
        {
            "_id": "674a36c37e337550f02dcda3",
            "name": "Jim Kelly",
            "role": "Williams"
        }
    ],
    "_id": "67488ec6f9495208cdfdecf3"
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Search</td>
                            <td>/search/{searchTerm}</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON array** of movies , actors, directors, genres, or release year. If nothing is
                                found a 404 error is returned. <br> Example (search for "kung"):
                                <pre>
                                    [
    {
        "type": "movie",
        "title": "Kung Fu Hustle",
        "description": "A hapless petty thief in 1940s China unwittingly gets caught up in a battle between rival gangs and legendary martial artists. Set in a vibrant, exaggerated world, the film combines slapstick comedy with stylized action, featuring epic fight sequences and over-the-top characters. ",
        "genre": {
            "name": "Action",
            "description": "High-energy films packed with intense fight scenes, fast-paced choreography, and adrenaline-pumping sequences that showcase the power and skill of martial artists in combat."
        },
        "director": {
            "name": "Stephen Chow",
            "bio": "Stephen Chow is a Hong Kong filmmaker, actor, and comedian, known for his unique blend of slapstick humor, visual effects, and martial arts.",
            "birthYear": 1962,
            "deathYear": null
        },
        "image": {
            "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/75/Tamausagi_songok%C5%AB_LCCN2008660102.jpg/400px-Tamausagi_songok%C5%AB_LCCN2008660102.jpg",
            "imageAttribution": "Department of Foreign Affairs and Trade website – www.dfat.gov.au, CC BY 4.0, via Wikimedia Commons"
        },
        "releaseYear": 2004,
        "actors": [
            {
                "_id": "677fb09b2bcd8a5ddc924aac",
                "name": "Stephen Chow",
                "role": "Sing"
            },
            {
                "_id": "677fb09b2bcd8a5ddc924aad",
                "name": "Chi Chung Lam",
                "role": "Bone"
            }
        ],
        "_id": "674890f7f9495208cdfdecf8"
    }
]
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Get movies by release year</td>
                            <td>/movies/release-year/{year}</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON array** of movies released in the specified year. If no movies are found for
                                the year, a 404 error is returned. <br> Example:
                                <pre>
                                    [
    {
        "title": "Crouching Tiger, Hidden Dragon",
        "releaseYear": 2000,
        "description": "This epic film tells the story of a stolen sword, forbidden love, and a martial arts journey. It blends action with deep emotional storytelling.",
        "genre": "Action",
        "director": {
            "name": "Ang Lee",
            "bio": "Ang Lee is a Taiwanese-American filmmaker known for his versatile approach to storytelling. His work often explores themes of identity and human emotion.",
            "birthYear": 1954,
            "deathYear": null
        },
        "image": {
            "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Maruyama_Okyo_-_Tiger_and_Dragon%2C_Tiger_-_81.693.1_-_Detroit_Institute_of_Arts.jpg/400px-Maruyama_Okyo_-_Tiger_and_Dragon%2C_Tiger_-_81.693.1_-_Detroit_Institute_of_Arts.jpg",
            "imageAttribution": "Maruyama Ōkyo, Public domain, via Wikimedia Commons"
        },
        "actors": [
            {
                "_id": "677fb1232bcd8a5ddc924ab0",
                "name": "Chow Yun-fat",
                "role": "Li Mu Bai"
            },
            {
                "_id": "677fb1232bcd8a5ddc924ab1",
                "name": "Michelle Yeoh",
                "role": "Yu Shu Lien"
            },
            {
                "_id": "677fb1232bcd8a5ddc924ab2",
                "name": "Zhang Ziyi",
                "role": "Jen Yu"
            }
        ],
        "_id": "67489000f9495208cdfdecf5"
    }
]
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>GET data about an actor by name</td>
                            <td>/actors/{actor}</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON object** with details about actor, including movies in which they appeared and
                                their role. If no movies are found, a 404 error is returned. <br> Example:
                                <pre>
                                    {
    "name": "tony jaa",
    "roles": [
        {
            "title": "Ong Bak: The Thai Warrior",
            "actors": [
                {
                    "_id": "677fb1d22bcd8a5ddc924ac7",
                    "name": "Tony Jaa",
                    "role": "Ting"
                },
                {
                    "_id": "677fb1d22bcd8a5ddc924ac8",
                    "name": "Pumwaree Yodkamol",
                    "role": "Muay"
                }
            ],
            "role": "Ting",
            "releaseYear": 2003,
            "description": "A young Thai man travels to Bangkok to recover a stolen artifact and uncovers a plot involving criminals and corruption. The film is known for its intense martial arts sequences.",
            "genre": "Action",
            "director": {
                "name": "Prachya Pinkaew",
                "bio": "Prachya Pinkaew is a Thai film director, best known for his work on action films like Ong Bak, which brought international attention to Thai martial arts.",
                "birthYear": 1962,
                "deathYear": null
            },
            "image": {
                "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Asian_Elephant_in_Thailand.jpg/400px-Asian_Elephant_in_Thailand.jpg",
                "imageAttribution": "James B Cutchin, CC BY 4.0, via Wikimedia Commons"
            },
            "_id": "67489260f9495208cdfdecfb"
        }
    ]
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>GET data about a genre by name</td>
                            <td>/movies/genres/{genre}</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON array** with details about a genre, including movies of that genre. If no
                                movies are found, a 404 error is returned. <br> Example:
                                <pre>
                                    {
    "name": "Fantasy",
    "description": "Martial arts set in magical or mythical worlds, where fighters wield extraordinary abilities, face mythical creatures, and engage in epic battles beyond the limits of reality.",
    "movies": [
        {
            "title": "The Monkey King",
            "actors": [
                {
                    "_id": "677fb2182bcd8a5ddc924aee",
                    "name": "Donnie Yen",
                    "role": "Monkey King"
                },
                {
                    "_id": "677fb2182bcd8a5ddc924aef",
                    "name": "Chow Yun-fat",
                    "role": "Jade Emperor"
                }
            ],
            "director": {
                "name": "Soi Cheang",
                "bio": "Soi Cheang is a Hong Kong director and screenwriter known for his work in both action and fantasy genres.",
                "birthYear": 1971,
                "deathYear": null
            },
            "releaseYear": 2014,
            "description": "A fantasy adventure film based on the Chinese classic Journey to the West, following the Monkey King as he battles gods, demons, and discovers his true powers.",
            "genre": "Fantasy",
            "image": {
                "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/75/Tamausagi_songok%C5%AB_LCCN2008660102.jpg/400px-Tamausagi_songok%C5%AB_LCCN2008660102.jpg",
                "imageAttribution": "Taiso, Yoshitoshi, 1839-1892, artist, Public domain, via Wikimedia Commons"
            },
            "_id": "67489232f9495208cdfdecfa"
        }
    ]
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Get data about a director by name</td>
                            <td>/directors/{director}</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON array** with director’s details, including movies directed by them. If the
                                director is not found, a 404 error is returned. <br> Example:
                                <pre>
                                    {
    "name": "Prachya Pinkaew",
    "bio": "Prachya Pinkaew is a Thai film director, best known for his work on action films like Ong Bak, which brought international attention to Thai martial arts.",
    "birthYear": 1962,
    "deathYear": null,
    "movies": [
        {
            "title": "Ong Bak: The Thai Warrior",
            "actors": [
                {
                    "_id": "677fb24c2bcd8a5ddc924afc",
                    "name": "Tony Jaa",
                    "role": "Ting"
                },
                {
                    "_id": "677fb24c2bcd8a5ddc924afd",
                    "name": "Pumwaree Yodkamol",
                    "role": "Muay"
                }
            ],
            "director": {
                "name": "Prachya Pinkaew",
                "bio": "Prachya Pinkaew is a Thai film director, best known for his work on action films like Ong Bak, which brought international attention to Thai martial arts.",
                "birthYear": 1962,
                "deathYear": null
            },
            "releaseYear": 2003,
            "description": "A young Thai man travels to Bangkok to recover a stolen artifact and uncovers a plot involving criminals and corruption. The film is known for its intense martial arts sequences.",
            "genre": "Action",
            "image": {
                "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Asian_Elephant_in_Thailand.jpg/400px-Asian_Elephant_in_Thailand.jpg",
                "imageAttribution": "James B Cutchin, CC BY 4.0, via Wikimedia Commons"
            },
            "_id": "67489260f9495208cdfdecfb"
        }
    ]
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Get user profile</td>
                            <td>/users/{username}</td>
                            <td>GET</td>
                            <td>none</td>
                            <td> A **JSON array** with user's profile. If the user is not found, a 404 error is
                                returned. <br> Example:
                                <pre>
                                    {
    "user": {
        "username": "JojoFu",
        "email": "test@1234.com",
        "birthday": null,
        "favourites": []
    }
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Add a new user</td>
                            <td>/users</td>
                            <td>POST</td>
                            <td> **JSON object** with required fields (username, password,email) and optional birthday.
                                <br> Example:
                                <pre>
                                    { 
    "username": "KarateKid",
    "email": "test@test.com",
    "password": "strongPW",
    "birthday": "2020-05-10"
}
                                </pre>
                            </td>
                            <td> A **JSON object** with new user's data. If a field is faulty, a 422 error is returned.
                                If a required field is missing or already exists, a 400 error is returned. <br> Example:
                                <pre>
                                    {
    "message": "User created successfully.",
    "user": {
        "_id": "67508ed6924d779c83462d97",
        "username": "Jackie",
        "email": "chan@test.com",
        "birthday": "2011-02-01T00:00:00.000Z"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NzUwOGVkNjkyNGQ3NzljODM0NjJkOTciLCJpYXQiOjE3MzMzMzI2OTQsImV4cCI6MTczMzkzNzQ5NCwic3ViIjoiSmFja2llIn0.sG4DKOCuHnfhWmYDagivJW-bP4kotQ7_zRtFvdFG8hQ"
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Login registered User</td>
                            <td>/login</td>
                            <td>POST</td>
                            <td> Enter username and password (keys) and their values in query params. Copy created token
                                and add to authorization (Bearer Token) <br> Example:
                                <pre>
                                    Key: username Value: KarateKid
    Key: password Value: strongPW
                                </pre>
                            </td>
                            <td> A **JSON object** of succesful login with userId and username and token. If login
                                fails, a 400 error is returned. <br> Example:
                                <pre>
                                    {
    "message": "Login successful",
    "user": {
        "_id": "674b2d51d87b33e25fa0714d",
        "username": "kungfu_fighting"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NGIyZDUxZDg3YjMzZTI1ZmEwNzE0ZCIsImlhdCI6MTczMzMwOTczNSwiZXhwIjoxNzMzOTE0NTM1LCJzdWIiOiJrdW5nZnVfZmlnaHRpbmcifQ.B7KC5BRtiMxSwDe7i76vYpjxbEqwiSrnTYamiRcHVwM"
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Update user information by username</td>
                            <td>/users/{username}</td>
                            <td>PUT</td>
                            <td> **JSON object** with new user data. <br> Example:
                                <pre>
                                    { 
                                "newUsername": "new_Kick",
                                "newEmail": "new_Kick@example.com"
                            }
                                </pre>
                            </td>
                            <td> A **JSON object** with updated data. If a field is faulty, a 422 error is returned. If
                                a required field is missing or already exists, a 400 error is returned. <br> Example:
                                <pre>
                                    {
    "message": "User updated successfully.",
    "updatedFields": {
        "email": "email updated successfully"
    },
    "user": {
        "username": "SmallDragon",
        "email": "new@email.com",
        "birthday": "2010-11-03T00:00:00.000Z"
    }
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Add a movie to user's favourites list</td>
                            <td>/users/{username}/favourites/{movieId}</td>
                            <td>PUT</td>
                            <td> **JSON object** with movie title <br> Example:
                                <pre>
                                    { 
                                "title": "Drunken Master"
                            }
                                </pre>
                            </td>
                            <td> If the user and movie both exist, the movie is added to the user's favorites list. If
                                the movie is already on the list, a 400 error is returned. If either the user or movie
                                is not found, a 404 error is returned. <br> Example:
                                <pre>
                                    {
    "message": "Movie \"Ip Man\" with the ID \"6748901bf9495208cdfdecf6\" added to favourites.",
    "username": "SmallDragon",
    "favourites": [
        {
            "movieId": "67489232f9495208cdfdecfa",
            "title": "The Monkey King"
        },
        {
            "movieId": "6748901bf9495208cdfdecf6",
            "title": "Ip Man"
        }
    ]
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Remove a movie from user's favourites list</td>
                            <td>/users/{username}/favourites/{movieId}</td>
                            <td>DELETE</td>
                            <td> **JSON object** with movie title <br> Example:
                                <pre>
                                    { 
    "title": "The Monkey King"
}
                                </pre>
                            </td>
                            <td> If the user and movie both exist, the movie is removed from the user's favorites list.
                                If either user or movie is not found, a 404 error is returned. <br> Example:
                                <pre>
                                    {
    "message": "Movie with twith the ID \"6748901bf9495208cdfdecf6\" removed from favourites.",
    "username": "SmallDragon",
    "favourites": [
        {
            "movieId": "67489232f9495208cdfdecfa",
            "title": "The Monkey King"
        }
    ]
}
                                </pre>
                            </td>
                        </tr>
                        <tr>
                            <td>Remove user by username</td>
                            <td>/users/{username}</td>
                            <td>DELETE</td>
                            <td>None</td>
                            <td> If the user exists, they are removed and a confirmation message is returned. If the
                                user does not exist, a 404 error is returned. <br> Example:
                                <pre>
                                    {
    "message": "User with the username \"ChopChop\" has been removed."
}
                                </pre>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </body>

</html>